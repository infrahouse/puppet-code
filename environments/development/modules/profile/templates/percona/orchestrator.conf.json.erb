{
  "Debug": false,
  "ListenAddress": ":3000",
  "BackendDB": "sqlite",
  "MySQLTopologyUser": "orchestrator",
  "MySQLTopologyPassword": "<%= @orchestrator_password %>",
  "MySQLTopologySSLSkipVerify": true,
  "RaftEnabled": true,
  "RaftDataDir": "/var/lib/orchestrator/raft",
  "RaftBind": "<%= @private_ip %>:10008",
  "RaftNodes": [
<% @raft_nodes.each_with_index do |node, i| -%>
    "<%= node %>:10008"<%= i < @raft_nodes.length - 1 ? ',' : '' %>
<% end -%>
  ],
  "SQLite3DataFile": "/var/lib/orchestrator/orchestrator.sqlite3",
  "DetectClusterAliasQuery": "SELECT '<%= @cluster_id %>'",
  "DiscoverySeeds": [
    "<%= @private_ip %>:3306"
  ],
  "UseSuperReadOnly": true,
  "PostFailoverProcesses": [
    "ih-mysql failover --cluster-id <%= @cluster_id %> --dynamodb-table <%= @dynamodb_table %> --credentials-secret <%= @credentials_secret %> --vpc-cidr <%= @vpc_cidr %> --read-tg-arn <%= @read_tg_arn %> --write-tg-arn <%= @write_tg_arn %> {failureType} {failedHost}:{failedPort} {successorHost}:{successorPort}"
  ]
}
